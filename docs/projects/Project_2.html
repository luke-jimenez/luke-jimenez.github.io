<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Luke Jimenez">
<meta name="dcterms.date" content="2023-11-28">

<title>Luke Jimenez - Project 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Luke Jimenez</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../project.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
    <a href="https://www.linkedin.com/in/lucas-jimenez-nc/" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://github.com/luke-jimenez">
            Source Code
            </a>
          </li>
      </ul>
    </div>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project 2</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Luke Jimenez </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 28, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Set</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>housedata <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://lasanthi-asu.github.io/STT3851ClassRepo/Rmarkdown/Data/housedata.csv"</span>, </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">colClasses =</span> <span class="fu">c</span>(<span class="at">id =</span> <span class="st">"character"</span>, <span class="at">date =</span> <span class="st">"character"</span>, </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">yr_built =</span> <span class="st">"character"</span>, <span class="at">zipcode =</span> <span class="st">"factor"</span>, <span class="at">grade =</span> <span class="st">"factor"</span>))</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>housedata<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(housedata<span class="sc">$</span>date, <span class="st">"%Y%m%d"</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>housedata<span class="sc">$</span>waterfront <span class="ot">&lt;-</span> <span class="fu">factor</span>(housedata<span class="sc">$</span>waterfront, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes"</span>))</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>housedata<span class="sc">$</span>condition <span class="ot">&lt;-</span> <span class="fu">factor</span>(housedata<span class="sc">$</span>condition, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"poor"</span>, <span class="st">"fair"</span>, <span class="st">"average"</span>, <span class="st">"good"</span>, <span class="st">"very good"</span>))</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>housedata<span class="sc">$</span>yr_renovated <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(housedata<span class="sc">$</span>yr_renovated <span class="sc">==</span> <span class="dv">0</span>, housedata<span class="sc">$</span>yr_built, housedata<span class="sc">$</span>yr_renovated)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>housedata<span class="sc">$</span>yr_built <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">ISOdate</span>(housedata<span class="sc">$</span>yr_built, <span class="dv">9</span>, <span class="dv">1</span>))  <span class="co"># Complete Year, Sept 1</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>housedata<span class="sc">$</span>yr_renovated <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">ISOdate</span>(housedata<span class="sc">$</span>yr_renovated, <span class="dv">9</span>, <span class="dv">1</span>))  <span class="co"># Last renovated Year, Sept 1</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>housedata <span class="ot">&lt;-</span> housedata[, <span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Test Data Set (only use this to send predictions)</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="do">#### Perform same steps with test set</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>housedataT <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://lasanthi-asu.github.io/STT3851ClassRepo/Rmarkdown/Data/housedataTEST.csv"</span>, </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>                      <span class="at">colClasses =</span> <span class="fu">c</span>(<span class="at">id =</span> <span class="st">"character"</span>, <span class="at">date =</span> <span class="st">"character"</span>, </span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">yr_built =</span> <span class="st">"character"</span>, <span class="at">zipcode =</span> <span class="st">"factor"</span>, <span class="at">grade =</span> <span class="st">"factor"</span>))</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>housedataT<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(housedataT<span class="sc">$</span>date, <span class="st">"%Y%m%d"</span>)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>housedataT<span class="sc">$</span>waterfront <span class="ot">&lt;-</span> <span class="fu">factor</span>(housedataT<span class="sc">$</span>waterfront, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes"</span>))</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>housedataT<span class="sc">$</span>condition <span class="ot">&lt;-</span> <span class="fu">factor</span>(housedataT<span class="sc">$</span>condition, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"poor"</span>, <span class="st">"fair"</span>, <span class="st">"average"</span>, <span class="st">"good"</span>, <span class="st">"very good"</span>))</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>housedataT<span class="sc">$</span>yr_renovated <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(housedataT<span class="sc">$</span>yr_renovated <span class="sc">==</span> <span class="dv">0</span>, housedataT<span class="sc">$</span>yr_built, housedataT<span class="sc">$</span>yr_renovated)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>housedataT<span class="sc">$</span>yr_built <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">ISOdate</span>(housedataT<span class="sc">$</span>yr_built, <span class="dv">9</span>, <span class="dv">1</span>))  <span class="co"># Complete Year, Sept 1</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>housedataT<span class="sc">$</span>yr_renovated <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">ISOdate</span>(housedataT<span class="sc">$</span>yr_renovated, <span class="dv">9</span>, <span class="dv">1</span>))  <span class="co"># Last renovated Year, Sept 1</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>housedataT <span class="ot">&lt;-</span> housedataT[, <span class="sc">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaps)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>housedata_simp <span class="ot">&lt;-</span> housedata[,<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="sc">-</span><span class="dv">14</span>,<span class="sc">-</span><span class="dv">15</span>)]</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>housedata_simp <span class="ot">&lt;-</span> housedata_simp[<span class="sc">-</span><span class="dv">13</span>] <span class="co">#removed dates from data</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">regsubsets</span>(price<span class="sc">~</span>., <span class="at">data =</span> housedata_simp, <span class="at">nvmax =</span> <span class="dv">60</span>, <span class="at">method =</span> <span class="st">"forward"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in leaps.setup(x, y, wt = wt, nbest = nbest, nvmax = nvmax, force.in =
force.in, : 1 linear dependencies found</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Reordering variables and trying again:</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in rval$lopt[] &lt;- rval$vorder[rval$lopt]: number of items to replace is
not a multiple of replacement length</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>fit_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(fit)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>fit_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Subset selection object
Call: regsubsets.formula(price ~ ., data = housedata_simp, nvmax = 60, 
    method = "forward")
28 Variables  (and intercept)
                   Forced in Forced out
bedrooms               FALSE      FALSE
bathrooms              FALSE      FALSE
sqft_living            FALSE      FALSE
sqft_lot               FALSE      FALSE
floors                 FALSE      FALSE
waterfrontYes          FALSE      FALSE
view                   FALSE      FALSE
conditionfair          FALSE      FALSE
conditionaverage       FALSE      FALSE
conditiongood          FALSE      FALSE
conditionvery good     FALSE      FALSE
grade10                FALSE      FALSE
grade11                FALSE      FALSE
grade12                FALSE      FALSE
grade13                FALSE      FALSE
grade3                 FALSE      FALSE
grade4                 FALSE      FALSE
grade5                 FALSE      FALSE
grade6                 FALSE      FALSE
grade7                 FALSE      FALSE
grade8                 FALSE      FALSE
grade9                 FALSE      FALSE
sqft_above             FALSE      FALSE
lat                    FALSE      FALSE
long                   FALSE      FALSE
sqft_living15          FALSE      FALSE
sqft_lot15             FALSE      FALSE
sqft_basement          FALSE      FALSE
1 subsets of each size up to 27
Selection Algorithm: forward
          bedrooms bathrooms sqft_living sqft_lot floors waterfrontYes view
1  ( 1 )  " "      " "       "*"         " "      " "    " "           " " 
2  ( 1 )  " "      " "       "*"         " "      " "    " "           " " 
3  ( 1 )  " "      " "       "*"         " "      " "    " "           "*" 
4  ( 1 )  " "      " "       "*"         " "      " "    "*"           "*" 
5  ( 1 )  " "      " "       "*"         " "      " "    "*"           "*" 
6  ( 1 )  " "      " "       "*"         " "      " "    "*"           "*" 
7  ( 1 )  " "      " "       "*"         " "      " "    "*"           "*" 
8  ( 1 )  " "      " "       "*"         " "      " "    "*"           "*" 
9  ( 1 )  " "      " "       "*"         " "      " "    "*"           "*" 
10  ( 1 ) " "      " "       "*"         " "      " "    "*"           "*" 
11  ( 1 ) " "      " "       "*"         " "      " "    "*"           "*" 
12  ( 1 ) " "      " "       "*"         " "      " "    "*"           "*" 
13  ( 1 ) " "      " "       "*"         " "      " "    "*"           "*" 
14  ( 1 ) " "      " "       "*"         " "      " "    "*"           "*" 
15  ( 1 ) "*"      " "       "*"         " "      " "    "*"           "*" 
16  ( 1 ) "*"      "*"       "*"         " "      " "    "*"           "*" 
17  ( 1 ) "*"      "*"       "*"         " "      " "    "*"           "*" 
18  ( 1 ) "*"      "*"       "*"         " "      " "    "*"           "*" 
19  ( 1 ) "*"      "*"       "*"         "*"      " "    "*"           "*" 
20  ( 1 ) "*"      "*"       "*"         "*"      " "    "*"           "*" 
21  ( 1 ) "*"      "*"       "*"         "*"      " "    "*"           "*" 
22  ( 1 ) "*"      "*"       "*"         "*"      " "    "*"           "*" 
23  ( 1 ) "*"      "*"       "*"         "*"      "*"    "*"           "*" 
24  ( 1 ) "*"      "*"       "*"         "*"      "*"    "*"           "*" 
25  ( 1 ) "*"      "*"       "*"         "*"      "*"    "*"           "*" 
26  ( 1 ) "*"      "*"       "*"         "*"      "*"    "*"           "*" 
27  ( 1 ) "*"      "*"       "*"         "*"      "*"    "*"           "*" 
          conditionfair conditionaverage conditiongood conditionvery good
1  ( 1 )  " "           " "              " "           " "               
2  ( 1 )  " "           " "              " "           " "               
3  ( 1 )  " "           " "              " "           " "               
4  ( 1 )  " "           " "              " "           " "               
5  ( 1 )  " "           " "              " "           " "               
6  ( 1 )  " "           " "              " "           " "               
7  ( 1 )  " "           " "              " "           " "               
8  ( 1 )  " "           " "              " "           " "               
9  ( 1 )  " "           " "              " "           " "               
10  ( 1 ) " "           "*"              " "           " "               
11  ( 1 ) " "           "*"              " "           " "               
12  ( 1 ) " "           "*"              " "           " "               
13  ( 1 ) " "           "*"              " "           "*"               
14  ( 1 ) " "           "*"              " "           "*"               
15  ( 1 ) " "           "*"              " "           "*"               
16  ( 1 ) " "           "*"              " "           "*"               
17  ( 1 ) " "           "*"              " "           "*"               
18  ( 1 ) " "           "*"              "*"           "*"               
19  ( 1 ) " "           "*"              "*"           "*"               
20  ( 1 ) " "           "*"              "*"           "*"               
21  ( 1 ) " "           "*"              "*"           "*"               
22  ( 1 ) "*"           "*"              "*"           "*"               
23  ( 1 ) "*"           "*"              "*"           "*"               
24  ( 1 ) "*"           "*"              "*"           "*"               
25  ( 1 ) "*"           "*"              "*"           "*"               
26  ( 1 ) "*"           "*"              "*"           "*"               
27  ( 1 ) "*"           "*"              "*"           "*"               
          grade10 grade11 grade12 grade13 grade3 grade4 grade5 grade6 grade7
1  ( 1 )  " "     " "     " "     " "     " "    " "    " "    " "    " "   
2  ( 1 )  " "     " "     " "     " "     " "    " "    " "    " "    " "   
3  ( 1 )  " "     " "     " "     " "     " "    " "    " "    " "    " "   
4  ( 1 )  " "     " "     " "     " "     " "    " "    " "    " "    " "   
5  ( 1 )  " "     " "     "*"     " "     " "    " "    " "    " "    " "   
6  ( 1 )  " "     "*"     "*"     " "     " "    " "    " "    " "    " "   
7  ( 1 )  " "     "*"     "*"     "*"     " "    " "    " "    " "    " "   
8  ( 1 )  "*"     "*"     "*"     "*"     " "    " "    " "    " "    " "   
9  ( 1 )  "*"     "*"     "*"     "*"     " "    " "    " "    " "    " "   
10  ( 1 ) "*"     "*"     "*"     "*"     " "    " "    " "    " "    " "   
11  ( 1 ) "*"     "*"     "*"     "*"     " "    " "    " "    " "    " "   
12  ( 1 ) "*"     "*"     "*"     "*"     " "    " "    " "    " "    " "   
13  ( 1 ) "*"     "*"     "*"     "*"     " "    " "    " "    " "    " "   
14  ( 1 ) "*"     "*"     "*"     "*"     " "    " "    " "    " "    " "   
15  ( 1 ) "*"     "*"     "*"     "*"     " "    " "    " "    " "    " "   
16  ( 1 ) "*"     "*"     "*"     "*"     " "    " "    " "    " "    " "   
17  ( 1 ) "*"     "*"     "*"     "*"     " "    " "    " "    " "    " "   
18  ( 1 ) "*"     "*"     "*"     "*"     " "    " "    " "    " "    " "   
19  ( 1 ) "*"     "*"     "*"     "*"     " "    " "    " "    " "    " "   
20  ( 1 ) "*"     "*"     "*"     "*"     " "    " "    " "    " "    "*"   
21  ( 1 ) "*"     "*"     "*"     "*"     "*"    " "    " "    " "    "*"   
22  ( 1 ) "*"     "*"     "*"     "*"     "*"    " "    " "    " "    "*"   
23  ( 1 ) "*"     "*"     "*"     "*"     "*"    " "    " "    " "    "*"   
24  ( 1 ) "*"     "*"     "*"     "*"     "*"    "*"    " "    " "    "*"   
25  ( 1 ) "*"     "*"     "*"     "*"     "*"    "*"    " "    " "    "*"   
26  ( 1 ) "*"     "*"     "*"     "*"     "*"    "*"    " "    "*"    "*"   
27  ( 1 ) "*"     "*"     "*"     "*"     "*"    "*"    "*"    "*"    "*"   
          grade8 grade9 sqft_above sqft_basement lat long sqft_living15
1  ( 1 )  " "    " "    " "        " "           " " " "  " "          
2  ( 1 )  " "    " "    " "        " "           "*" " "  " "          
3  ( 1 )  " "    " "    " "        " "           "*" " "  " "          
4  ( 1 )  " "    " "    " "        " "           "*" " "  " "          
5  ( 1 )  " "    " "    " "        " "           "*" " "  " "          
6  ( 1 )  " "    " "    " "        " "           "*" " "  " "          
7  ( 1 )  " "    " "    " "        " "           "*" " "  " "          
8  ( 1 )  " "    " "    " "        " "           "*" " "  " "          
9  ( 1 )  " "    "*"    " "        " "           "*" " "  " "          
10  ( 1 ) " "    "*"    " "        " "           "*" " "  " "          
11  ( 1 ) " "    "*"    " "        " "           "*" "*"  " "          
12  ( 1 ) "*"    "*"    " "        " "           "*" "*"  " "          
13  ( 1 ) "*"    "*"    " "        " "           "*" "*"  " "          
14  ( 1 ) "*"    "*"    " "        " "           "*" "*"  "*"          
15  ( 1 ) "*"    "*"    " "        " "           "*" "*"  "*"          
16  ( 1 ) "*"    "*"    " "        " "           "*" "*"  "*"          
17  ( 1 ) "*"    "*"    " "        " "           "*" "*"  "*"          
18  ( 1 ) "*"    "*"    " "        " "           "*" "*"  "*"          
19  ( 1 ) "*"    "*"    " "        " "           "*" "*"  "*"          
20  ( 1 ) "*"    "*"    " "        " "           "*" "*"  "*"          
21  ( 1 ) "*"    "*"    " "        " "           "*" "*"  "*"          
22  ( 1 ) "*"    "*"    " "        " "           "*" "*"  "*"          
23  ( 1 ) "*"    "*"    " "        " "           "*" "*"  "*"          
24  ( 1 ) "*"    "*"    " "        " "           "*" "*"  "*"          
25  ( 1 ) "*"    "*"    " "        "*"           "*" "*"  "*"          
26  ( 1 ) "*"    "*"    " "        "*"           "*" "*"  "*"          
27  ( 1 ) "*"    "*"    " "        "*"           "*" "*"  "*"          
          sqft_lot15
1  ( 1 )  " "       
2  ( 1 )  " "       
3  ( 1 )  " "       
4  ( 1 )  " "       
5  ( 1 )  " "       
6  ( 1 )  " "       
7  ( 1 )  " "       
8  ( 1 )  " "       
9  ( 1 )  " "       
10  ( 1 ) " "       
11  ( 1 ) " "       
12  ( 1 ) " "       
13  ( 1 ) " "       
14  ( 1 ) " "       
15  ( 1 ) " "       
16  ( 1 ) " "       
17  ( 1 ) "*"       
18  ( 1 ) "*"       
19  ( 1 ) "*"       
20  ( 1 ) "*"       
21  ( 1 ) "*"       
22  ( 1 ) "*"       
23  ( 1 ) "*"       
24  ( 1 ) "*"       
25  ( 1 ) "*"       
26  ( 1 ) "*"       
27  ( 1 ) "*"       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which.max</span>(fit_summary<span class="sc">$</span>adjr2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 22</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which.min</span>(fit_summary<span class="sc">$</span>cp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 22</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which.min</span>(fit_summary<span class="sc">$</span>bic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 19</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>num_predictors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">27</span>))</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>BIC_vals <span class="ot">&lt;-</span> fit_summary<span class="sc">$</span>bic</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>adjr2_vals <span class="ot">&lt;-</span> fit_summary<span class="sc">$</span>adjr2</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>cp_vals <span class="ot">&lt;-</span> fit_summary<span class="sc">$</span>cp</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#BIC Graph</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>dataframe3 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">BIC_vals =</span> <span class="fu">c</span>(BIC_vals), <span class="at">num_predictors =</span> <span class="fu">c</span>(num_predictors))</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dataframe3, <span class="fu">aes</span>(<span class="at">x=</span> num_predictors, <span class="at">y =</span> BIC_vals))<span class="sc">+</span><span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"Red"</span>)<span class="sc">+</span><span class="fu">geom_smooth</span>() <span class="sc">+</span><span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>), <span class="at">name =</span> <span class="st">"Number of variables"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Project_2_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>dataframe4 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">cp_vals =</span> <span class="fu">c</span>(cp_vals), <span class="at">num_predictors =</span> <span class="fu">c</span>(num_predictors))</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dataframe4, <span class="fu">aes</span>(<span class="at">x=</span> num_predictors, <span class="at">y =</span> cp_vals))<span class="sc">+</span><span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"Red"</span>)<span class="sc">+</span><span class="fu">geom_smooth</span>() <span class="sc">+</span><span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>), <span class="at">name =</span> <span class="st">"Number of variables"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Project_2_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>dataframe5 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">adjr2_vals =</span> <span class="fu">c</span>(adjr2_vals), <span class="at">num_predictors =</span> <span class="fu">c</span>(num_predictors))</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> dataframe5, <span class="fu">aes</span>(<span class="at">x=</span> num_predictors, <span class="at">y =</span> adjr2_vals))<span class="sc">+</span><span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"Red"</span>)<span class="sc">+</span><span class="fu">geom_smooth</span>() <span class="sc">+</span><span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>), <span class="at">name =</span> <span class="st">"Number of variables"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Project_2_files/figure-html/unnamed-chunk-2-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(fit,<span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       (Intercept)           bedrooms        sqft_living      waterfrontYes 
     -3.836480e+07      -1.947018e+04       1.615389e+02       5.861344e+05 
              view   conditionaverage conditionvery good            grade10 
      4.563069e+04      -4.526035e+04       7.552157e+04       3.564890e+05 
           grade11            grade12            grade13             grade8 
      6.142487e+05       1.104470e+06       2.041125e+06       6.182168e+04 
            grade9               long      sqft_living15         sqft_lot15 
      1.811792e+05      -3.150586e+05       3.459466e+01      -4.667810e-01 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Analyze correlation and linear relationships</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(price<span class="sc">~</span>bedrooms <span class="sc">+</span> sqft_living <span class="sc">+</span> waterfront <span class="sc">+</span> grade <span class="sc">+</span> sqft_living15 <span class="sc">+</span> sqft_lot15 <span class="sc">+</span> condition <span class="sc">+</span> zipcode <span class="sc">+</span>long, <span class="at">data =</span> housedata)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(price)<span class="sc">~</span> <span class="sc">+</span> sqft_living <span class="sc">+</span> waterfront <span class="sc">+</span> grade <span class="sc">+</span> sqft_living15 <span class="sc">+</span> <span class="fu">log</span>(sqft_lot15) <span class="sc">+</span> condition <span class="sc">+</span> zipcode <span class="sc">+</span> long <span class="sc">+</span> view , <span class="at">data =</span> housedata)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>model3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(price)<span class="sc">~</span>. <span class="sc">+</span> <span class="fu">log</span>(sqft_living) <span class="sc">+</span> waterfront <span class="sc">+</span> grade <span class="sc">+</span> <span class="fu">log</span>(sqft_living15) <span class="sc">+</span> <span class="fu">log</span>(sqft_lot15) <span class="sc">+</span> condition <span class="sc">+</span> zipcode <span class="sc">+</span> long <span class="sc">+</span> view , <span class="at">data =</span> housedata)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>model4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(price)<span class="sc">~</span>  <span class="fu">log</span>(sqft_living) <span class="sc">+</span> waterfront <span class="sc">+</span> grade <span class="sc">+</span> <span class="fu">log</span>(sqft_living15) <span class="sc">+</span> <span class="fu">log</span>(sqft_lot15) <span class="sc">+</span> condition <span class="sc">+</span> zipcode <span class="sc">+</span> long <span class="sc">+</span> view <span class="sc">+</span> bedrooms <span class="sc">+</span> bathrooms <span class="sc">+</span> lat <span class="sc">+</span> date , <span class="at">data =</span> housedata)</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>JimenezLuke1 <span class="ot">&lt;-</span> <span class="fu">predict</span>(model1, housedataT)</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>JimenezLuke2 <span class="ot">&lt;-</span> <span class="fu">predict</span>(model4, housedataT)</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = log(price) ~ log(sqft_living) + waterfront + grade + 
    log(sqft_living15) + log(sqft_lot15) + condition + zipcode + 
    long + view + bedrooms + bathrooms + lat + date, data = housedata)

Residuals:
     Min       1Q   Median       3Q      Max 
-1.24206 -0.09772  0.00478  0.10184  1.02069 

Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)        -7.437e+01  7.708e+00  -9.648  &lt; 2e-16 ***
log(sqft_living)    4.056e-01  7.382e-03  54.948  &lt; 2e-16 ***
waterfrontYes       5.002e-01  1.749e-02  28.594  &lt; 2e-16 ***
grade10             3.378e-01  1.858e-01   1.818 0.069124 .  
grade11             4.557e-01  1.861e-01   2.449 0.014330 *  
grade12             6.031e-01  1.870e-01   3.225 0.001263 ** 
grade13             8.935e-01  1.933e-01   4.623 3.81e-06 ***
grade3             -4.011e-03  2.128e-01  -0.019 0.984964    
grade4             -1.609e-01  1.903e-01  -0.846 0.397692    
grade5             -9.296e-02  1.855e-01  -0.501 0.616296    
grade6             -3.854e-02  1.854e-01  -0.208 0.835335    
grade7              2.182e-02  1.855e-01   0.118 0.906347    
grade8              1.017e-01  1.856e-01   0.548 0.583779    
grade9              2.323e-01  1.857e-01   1.251 0.210876    
log(sqft_living15)  1.600e-01  7.411e-03  21.592  &lt; 2e-16 ***
log(sqft_lot15)     5.518e-02  2.410e-03  22.892  &lt; 2e-16 ***
conditionfair       1.186e-01  4.092e-02   2.899 0.003743 ** 
conditionaverage    2.313e-01  3.802e-02   6.083 1.20e-09 ***
conditiongood       2.707e-01  3.805e-02   7.116 1.15e-12 ***
conditionvery good  3.398e-01  3.827e-02   8.880  &lt; 2e-16 ***
zipcode98002        3.402e-02  1.820e-02   1.869 0.061587 .  
zipcode98003        3.452e-03  1.607e-02   0.215 0.829884    
zipcode98004        1.011e+00  2.940e-02  34.391  &lt; 2e-16 ***
zipcode98005        6.189e-01  3.145e-02  19.680  &lt; 2e-16 ***
zipcode98006        5.678e-01  2.562e-02  22.158  &lt; 2e-16 ***
zipcode98007        5.658e-01  3.224e-02  17.553  &lt; 2e-16 ***
zipcode98008        5.897e-01  3.079e-02  19.155  &lt; 2e-16 ***
zipcode98010        3.441e-01  2.731e-02  12.599  &lt; 2e-16 ***
zipcode98011        2.691e-01  4.022e-02   6.690 2.29e-11 ***
zipcode98014        3.018e-01  4.439e-02   6.798 1.10e-11 ***
zipcode98019        2.625e-01  4.327e-02   6.066 1.34e-09 ***
zipcode98022        2.281e-01  2.408e-02   9.474  &lt; 2e-16 ***
zipcode98023       -6.980e-02  1.485e-02  -4.701 2.61e-06 ***
zipcode98024        4.796e-01  3.808e-02  12.595  &lt; 2e-16 ***
zipcode98027        5.096e-01  2.640e-02  19.301  &lt; 2e-16 ***
zipcode98028        2.099e-01  3.900e-02   5.383 7.42e-08 ***
zipcode98029        6.221e-01  3.017e-02  20.622  &lt; 2e-16 ***
zipcode98030        6.921e-02  1.757e-02   3.939 8.22e-05 ***
zipcode98031        7.559e-02  1.844e-02   4.100 4.15e-05 ***
zipcode98032       -5.362e-02  2.146e-02  -2.499 0.012476 *  
zipcode98033        6.462e-01  3.341e-02  19.341  &lt; 2e-16 ***
zipcode98034        3.788e-01  3.582e-02  10.574  &lt; 2e-16 ***
zipcode98038        2.545e-01  1.990e-02  12.787  &lt; 2e-16 ***
zipcode98039        1.152e+00  3.885e-02  29.640  &lt; 2e-16 ***
zipcode98040        7.750e-01  2.627e-02  29.506  &lt; 2e-16 ***
zipcode98042        1.137e-01  1.702e-02   6.678 2.49e-11 ***
zipcode98045        4.859e-01  3.677e-02  13.214  &lt; 2e-16 ***
zipcode98052        5.297e-01  3.405e-02  15.556  &lt; 2e-16 ***
zipcode98053        5.321e-01  3.638e-02  14.628  &lt; 2e-16 ***
zipcode98055        1.129e-01  2.059e-02   5.482 4.27e-08 ***
zipcode98056        2.729e-01  2.240e-02  12.181  &lt; 2e-16 ***
zipcode98058        1.631e-01  1.943e-02   8.395  &lt; 2e-16 ***
zipcode98059        3.154e-01  2.202e-02  14.322  &lt; 2e-16 ***
zipcode98065        4.952e-01  3.386e-02  14.625  &lt; 2e-16 ***
zipcode98070        1.701e-01  2.607e-02   6.523 7.07e-11 ***
zipcode98072        3.207e-01  3.977e-02   8.063 7.95e-16 ***
zipcode98074        5.031e-01  3.218e-02  15.631  &lt; 2e-16 ***
zipcode98075        5.328e-01  3.087e-02  17.258  &lt; 2e-16 ***
zipcode98077        3.147e-01  4.153e-02   7.577 3.72e-14 ***
zipcode98092        7.518e-02  1.589e-02   4.733 2.23e-06 ***
zipcode98102        8.278e-01  3.491e-02  23.711  &lt; 2e-16 ***
zipcode98103        6.516e-01  3.228e-02  20.187  &lt; 2e-16 ***
zipcode98105        8.026e-01  3.303e-02  24.302  &lt; 2e-16 ***
zipcode98106        2.270e-01  2.402e-02   9.451  &lt; 2e-16 ***
zipcode98107        6.650e-01  3.316e-02  20.055  &lt; 2e-16 ***
zipcode98108        2.557e-01  2.674e-02   9.562  &lt; 2e-16 ***
zipcode98109        8.378e-01  3.409e-02  24.573  &lt; 2e-16 ***
zipcode98112        9.039e-01  3.023e-02  29.896  &lt; 2e-16 ***
zipcode98115        6.481e-01  3.276e-02  19.786  &lt; 2e-16 ***
zipcode98116        6.036e-01  2.664e-02  22.657  &lt; 2e-16 ***
zipcode98117        6.213e-01  3.322e-02  18.702  &lt; 2e-16 ***
zipcode98118        3.762e-01  2.327e-02  16.168  &lt; 2e-16 ***
zipcode98119        8.134e-01  3.215e-02  25.302  &lt; 2e-16 ***
zipcode98122        6.895e-01  2.882e-02  23.924  &lt; 2e-16 ***
zipcode98125        3.787e-01  3.552e-02  10.663  &lt; 2e-16 ***
zipcode98126        4.425e-01  2.472e-02  17.900  &lt; 2e-16 ***
zipcode98133        2.448e-01  3.663e-02   6.682 2.42e-11 ***
zipcode98136        5.483e-01  2.507e-02  21.872  &lt; 2e-16 ***
zipcode98144        5.664e-01  2.678e-02  21.147  &lt; 2e-16 ***
zipcode98146        1.611e-01  2.246e-02   7.171 7.76e-13 ***
zipcode98148        1.101e-01  3.155e-02   3.489 0.000485 ***
zipcode98155        2.144e-01  3.822e-02   5.611 2.05e-08 ***
zipcode98166        1.975e-01  2.066e-02   9.556  &lt; 2e-16 ***
zipcode98168       -2.250e-02  2.185e-02  -1.030 0.303007    
zipcode98177        3.527e-01  3.820e-02   9.232  &lt; 2e-16 ***
zipcode98178        7.751e-02  2.226e-02   3.482 0.000498 ***
zipcode98188        2.782e-02  2.272e-02   1.224 0.220854    
zipcode98198        8.491e-03  1.734e-02   0.490 0.624470    
zipcode98199        6.448e-01  3.152e-02  20.454  &lt; 2e-16 ***
long               -4.556e-01  5.686e-02  -8.013 1.19e-15 ***
view                5.596e-02  2.147e-03  26.060  &lt; 2e-16 ***
bedrooms           -1.212e-02  2.069e-03  -5.857 4.79e-09 ***
bathrooms           2.848e-02  3.006e-03   9.473  &lt; 2e-16 ***
lat                 4.807e-01  7.940e-02   6.055 1.44e-09 ***
date                2.038e-04  1.216e-05  16.756  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.18 on 17289 degrees of freedom
Multiple R-squared:  0.8839,    Adjusted R-squared:  0.8833 
F-statistic:  1400 on 94 and 17289 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>final_predictions <span class="ot">&lt;-</span> <span class="fl">2.71828182845904523536028747135266249</span><span class="sc">**</span>JimenezLuke2</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>test_predictions <span class="ot">&lt;-</span> <span class="fu">exp</span>(JimenezLuke2)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(test_predictions, <span class="at">file =</span> <span class="st">"Jimenez_Luke.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#log(price) improves linear relationship of the first two variables below</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>cormodel1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(price) <span class="sc">~</span> bedrooms, <span class="at">data =</span> housedata)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>p1<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(cormodel1, <span class="fu">aes</span>(<span class="at">x =</span> .fitted, <span class="at">y =</span> .resid)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span> <span class="fu">theme_bw</span>()</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>p1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Project_2_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(<span class="fu">log</span>(housedata<span class="sc">$</span>price), housedata<span class="sc">$</span>bedrooms)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3476882</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>cormodel2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(price) <span class="sc">~</span> sqft_living15, <span class="at">data =</span> housedata)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>p2<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(cormodel2, <span class="fu">aes</span>(<span class="at">x =</span> .fitted, <span class="at">y =</span> .resid)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"green"</span>) <span class="sc">+</span> <span class="fu">theme_bw</span>()</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Project_2_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(<span class="fu">log</span>(housedata<span class="sc">$</span>price), housedata<span class="sc">$</span>sqft_living15)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6187591</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>cormodel3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(price <span class="sc">~</span> sqft_living , <span class="at">data =</span> housedata)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>p3<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(cormodel3, <span class="fu">aes</span>(<span class="at">x =</span> .fitted, <span class="at">y =</span> .resid)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span> <span class="fu">theme_bw</span>()</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>p3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Project_2_files/figure-html/unnamed-chunk-4-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(housedata<span class="sc">$</span>price, housedata<span class="sc">$</span>sqft_living)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7029164</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>cormodel4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(price <span class="sc">~</span> <span class="fu">log</span>(sqft_lot15) , <span class="at">data =</span> housedata)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>p4<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(cormodel4, <span class="fu">aes</span>(<span class="at">x =</span> .fitted, <span class="at">y =</span> .resid)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"pink"</span>) <span class="sc">+</span> <span class="fu">theme_bw</span>()</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>p4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Project_2_files/figure-html/unnamed-chunk-4-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(housedata<span class="sc">$</span>price, <span class="fu">log</span>(housedata<span class="sc">$</span>sqft_lot15))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1481885</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">model.matrix</span> (price<span class="sc">~</span>sqft_living <span class="sc">+</span> waterfront <span class="sc">+</span> grade <span class="sc">+</span> sqft_living15 <span class="sc">+</span> sqft_lot15 <span class="sc">+</span> condition <span class="sc">+</span> zipcode <span class="sc">+</span> long <span class="sc">+</span> view <span class="sc">+</span> bedrooms <span class="sc">+</span> bathrooms <span class="sc">+</span> lat <span class="sc">+</span> date,housedata )[,<span class="sc">-</span><span class="dv">1</span>] <span class="co"># remove intercept</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> housedata<span class="sc">$</span>price</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (glmnet)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: Matrix</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loaded glmnet 4.1-8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>grid <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">^</span><span class="fu">seq</span>(<span class="dv">10</span>, <span class="sc">-</span><span class="dv">2</span>, <span class="at">length =</span> <span class="dv">100</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>lasso_model <span class="ot">&lt;-</span> <span class="fu">glmnet</span>(x, y, <span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">lambda =</span> grid)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>lasso_model</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:  glmnet(x = x, y = y, alpha = 1, lambda = grid) 

    Df  %Dev    Lambda
1    0  0.00 1.000e+10
2    0  0.00 7.565e+09
3    0  0.00 5.722e+09
4    0  0.00 4.329e+09
5    0  0.00 3.275e+09
6    0  0.00 2.477e+09
7    0  0.00 1.874e+09
8    0  0.00 1.417e+09
9    0  0.00 1.072e+09
10   0  0.00 8.111e+08
11   0  0.00 6.136e+08
12   0  0.00 4.642e+08
13   0  0.00 3.511e+08
14   0  0.00 2.656e+08
15   0  0.00 2.009e+08
16   0  0.00 1.520e+08
17   0  0.00 1.150e+08
18   0  0.00 8.697e+07
19   0  0.00 6.579e+07
20   0  0.00 4.977e+07
21   0  0.00 3.765e+07
22   0  0.00 2.848e+07
23   0  0.00 2.154e+07
24   0  0.00 1.630e+07
25   0  0.00 1.233e+07
26   0  0.00 9.326e+06
27   0  0.00 7.055e+06
28   0  0.00 5.337e+06
29   0  0.00 4.037e+06
30   0  0.00 3.054e+06
31   0  0.00 2.310e+06
32   0  0.00 1.748e+06
33   0  0.00 1.322e+06
34   0  0.00 1.000e+06
35   0  0.00 7.565e+05
36   0  0.00 5.722e+05
37   0  0.00 4.329e+05
38   0  0.00 3.275e+05
39   1  4.51 2.477e+05
40   1 23.72 1.874e+05
41   1 34.71 1.417e+05
42   1 41.00 1.072e+05
43   4 49.05 8.111e+04
44   7 56.41 6.136e+04
45  10 62.61 4.642e+04
46  13 68.29 3.511e+04
47  16 71.68 2.656e+04
48  21 74.39 2.009e+04
49  30 76.82 1.520e+04
50  41 78.80 1.150e+04
51  47 80.35 8.697e+03
52  52 81.38 6.579e+03
53  58 82.05 4.977e+03
54  66 82.47 3.765e+03
55  70 82.74 2.848e+03
56  76 82.91 2.154e+03
57  79 83.01 1.630e+03
58  81 83.07 1.233e+03
59  83 83.10 9.330e+02
60  87 83.13 7.060e+02
61  89 83.15 5.340e+02
62  88 83.16 4.040e+02
63  87 83.17 3.050e+02
64  87 83.17 2.310e+02
65  87 83.18 1.750e+02
66  89 83.18 1.320e+02
67  92 83.18 1.000e+02
68  93 83.18 7.600e+01
69  93 83.18 5.700e+01
70  93 83.19 4.300e+01
71  92 83.19 3.300e+01
72  93 83.20 2.500e+01
73  92 83.20 1.900e+01
74  93 83.20 1.400e+01
75  93 83.20 1.100e+01
76  93 83.20 8.000e+00
77  93 83.20 6.000e+00
78  93 83.20 5.000e+00
79  93 83.20 4.000e+00
80  93 83.20 3.000e+00
81  93 83.20 2.000e+00
82  93 83.20 2.000e+00
83  93 83.20 1.000e+00
84  93 83.20 1.000e+00
85  93 83.20 1.000e+00
86  93 83.20 0.000e+00
87  93 83.20 0.000e+00
88  93 83.20 0.000e+00
89  94 83.20 0.000e+00
90  94 83.20 0.000e+00
91  94 83.20 0.000e+00
92  94 83.20 0.000e+00
93  94 83.20 0.000e+00
94  94 83.20 0.000e+00
95  94 83.20 0.000e+00
96  94 83.20 0.000e+00
97  94 83.20 0.000e+00
98  94 83.20 0.000e+00
99  94 83.20 0.000e+00
100 94 83.20 0.000e+00</code></pre>
</div>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>